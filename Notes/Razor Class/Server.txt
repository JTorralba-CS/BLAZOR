create Server (Blazor Server) project

create UI (Razor Class Library) project


UI ----------

purge all boiler plate assets in root
purge all boiler plate assets in webroot

remove package reference (DO NOT revmove if UI is consumed by WASM):

<PackageReference Include="Microsoft.AspNetCore.Components.Web" Version="X.X.X" />


Server ----------

add project reference to UI project

add property:

<AddRazorSupportForMvc>true</AddRazorSupportForMvc>

add framework reference:

<ItemGroup>
  <FrameworkReference Include="Microsoft.AspNetCore.App" />
</ItemGroup>

move all wwwroot assets to UI project
move all root *.razor (including Pages & Shared subfolders) to UI project
leave Pages/_Host.cshtml

Program.cs:

add usings:

using UI.Pages

Pages\_Host.cshtml:
@namespace Server.Pages --> @namespace UI.Pages
href="css/site.css" --> href="_content/UI/css/site.css"
if UI is consumed by WASM then:
href="css/app.css" --> href="_content/UI/css/app.css"


UI ----------

_Imports.razor:
remove @using Server
@using Server.Pages --> @using UI.Pages
@using Server.<Folder> --> @using UI.<Folder>
